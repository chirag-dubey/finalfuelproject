<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FuelBlend AI - Property Predictor</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Merriweather:wght@300;400;700;900&display=swap"
        rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        :root {
            /* Industrial Revolution 4.0 Theme Colors */
            --steel-gray: #4a4a4a;
            --copper-orange: #b87333;
            --brass-gold: #b5a642;
            --steam-white: #f5f5f5;
            --iron-black: #2b2b2b;
            --rust-red: #8b3103;
            --metallic-silver: #c0c0c0;
            --coal-black: #1a1a1a;
            --bronze-accent: #cd7f32;
            --gear-silver: #a8a8a8;
            --industrial-brown: #5c4033;
            --rivet-gray: #707070;
            --pressure-red: #cc2200;
            --gauge-yellow: #ffd700;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Libre Baskerville', serif;
            background:
                linear-gradient(180deg, var(--coal-black) 0%, var(--steel-gray) 50%, var(--metallic-silver) 100%),
                linear-gradient(90deg, rgba(184, 115, 51, 0.1) 0%, rgba(181, 166, 66, 0.1) 100%);
            color: var(--steam-white);
            overflow-x: hidden;
            position: relative;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }

        /* Industrial Pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(circle at 5px 5px,
                    var(--rivet-gray) 2px,
                    transparent 2px),
                linear-gradient(45deg,
                    transparent 0%,
                    var(--bronze-accent) 1px,
                    transparent 1px);
            background-size: 30px 30px, 10px 10px;
            opacity: 0.1;
            z-index: -2;
            animation: mechanicalShift 10s linear infinite;
        }

        @keyframes organicSway {
            0%, 100% {
                transform: rotate(0deg) scale(1);
            }
            25% {
                transform: rotate(1deg) scale(1.02);
            }
            50% {
                transform: rotate(0deg) scale(1.05);
            }
            75% {
                transform: rotate(-1deg) scale(1.02);
            }
        }

        /* Industrial Overlay */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 50% 120%, var(--pressure-red) 0%, transparent 60%),
                repeating-linear-gradient(45deg,
                    transparent 0,
                    transparent 10px,
                    rgba(92, 64, 51, 0.1) 10px,
                    rgba(92, 64, 51, 0.1) 11px);
            z-index: -1;
            opacity: 0.3;
            animation: steamPulse 15s ease-in-out infinite;
        }

        @keyframes pollenDrift {

            0%,
            100% {
                transform: translateY(0px) translateX(0px);
            }

            25% {
                transform: translateY(-12px) translateX(6px);
            }

            50% {
                transform: translateY(-8px) translateX(-10px);
            }

            75% {
                transform: translateY(-15px) translateX(8px);
            }
        }

        #organic-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -3;
        }

        .top-navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(90deg, 
                rgba(43, 43, 43, 0.95),
                rgba(74, 74, 74, 0.8),
                rgba(43, 43, 43, 0.95));
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 40px;
            z-index: 100;
            border-bottom: 3px solid var(--copper-orange);
            box-shadow:
                0 4px 12px rgba(0, 0, 0, 0.4),
                inset 0 2px 0 rgba(192, 192, 192, 0.1);
        }

        .logo {
            font-family: 'Libre Baskerville', serif;
            font-size: 1.8rem;
            color: var(--bronze-accent);
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            animation: gearSpin 4s ease-in-out infinite;
            letter-spacing: 2px;
            position: relative;
        }
        
        .logo::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -15px;
            right: -15px;
            bottom: -10px;
            background: 
                linear-gradient(45deg, 
                    transparent 48%, 
                    var(--copper-orange) 49%,
                    var(--copper-orange) 51%, 
                    transparent 52%);
            opacity: 0.2;
            z-index: -1;
        }

        @keyframes organicGlow {

            0%,
            100% {
                text-shadow:
                    2px 2px 4px rgba(0, 0, 0, 0.8),
                    0 0 12px var(--bio-green);
                transform: scale(1);
            }

            50% {
                text-shadow:
                    2px 2px 6px rgba(0, 0, 0, 0.8),
                    0 0 18px var(--bio-green),
                    0 0 25px var(--algae-lime);
                transform: scale(1.02);
            }
        }

        .nav-links {
            list-style: none;
            display: flex;
            gap: 30px;
        }

        .nav-links a {
            color: var(--steam-white);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            position: relative;
            padding: 10px 18px;
            border-radius: 4px;
            border: 1px solid var(--copper-orange);
            background: linear-gradient(135deg, var(--steel-gray), var(--iron-black));
        }

        .nav-links a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, var(--bronze-accent), var(--brass-gold));
            opacity: 0;
            transition: opacity 0.3s;
            border-radius: 4px;
            z-index: -1;
        }

        .nav-links a:hover {
            color: var(--gauge-yellow);
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            transform: translateY(-2px);
            border-color: var(--brass-gold);
        }

        .nav-links a:hover::before {
            opacity: 0.2;
        }

        .hero-section {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 0 20px;
            position: relative;
            overflow: hidden;
        }

        .hero-text {
            position: relative;
            z-index: 2;
            background:
                linear-gradient(135deg, rgba(26, 26, 26, 0.95), rgba(74, 74, 74, 0.8)),
                repeating-linear-gradient(45deg, 
                    transparent, 
                    transparent 2px, 
                    rgba(205, 127, 50, 0.1) 2px, 
                    rgba(205, 127, 50, 0.1) 4px);
            padding: 50px;
            border-radius: 8px;
            border: 3px solid var(--copper-orange);
            box-shadow:
                0 15px 30px rgba(0, 0, 0, 0.4),
                inset 0 2px 0 rgba(192, 192, 192, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .hero-text::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(
                    circle at center,
                    transparent 30%,
                    rgba(184, 115, 51, 0.1) 70%
                );
            animation: steamPulse 15s ease-in-out infinite;
            pointer-events: none;
        }

        .hero-text h1 {
            font-family: 'Merriweather', serif;
            font-size: 3.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, 
                var(--brass-gold) 0%, 
                var(--copper-orange) 30%, 
                var(--bronze-accent) 70%, 
                var(--steam-white) 100%);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: mechanicalShift 10s ease-in-out infinite;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
            margin-bottom: 20px;
            position: relative;
        }

        @keyframes organicFlow {

            0%,
            100% {
                background-position: 0% 50%;
            }

            25% {
                background-position: 30% 20%;
            }

            50% {
                background-position: 100% 50%;
            }

            75% {
                background-position: 70% 80%;
            }
        }

        .hero-text p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
            color: var(--bio-cream);
            font-weight: 400;
            letter-spacing: 0.5px;
            line-height: 1.6;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            font-family: 'Libre Baskerville', serif;
        }

        .section {
            padding: 80px 20px;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
            background:
                linear-gradient(135deg, rgba(47, 79, 79, 0.85), rgba(139, 69, 19, 0.75)),
                radial-gradient(circle at center, rgba(74, 124, 89, 0.1), transparent);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            margin-bottom: 40px;
            border: 2px solid var(--bio-green);
            box-shadow:
                0 8px 25px rgba(74, 124, 89, 0.3),
                inset 0 2px 0 rgba(218, 165, 32, 0.2);
        }

        .section-title {
            font-family: 'Merriweather', serif;
            font-size: 2.6rem;
            margin-bottom: 50px;
            text-align: center;
            color: var(--algae-lime);
            text-shadow:
                2px 2px 4px rgba(0, 0, 0, 0.6),
                0 0 15px var(--bio-green);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .card {
            background:
                linear-gradient(135deg, rgba(42, 42, 42, 0.95), rgba(26, 26, 26, 0.9)),
                repeating-linear-gradient(45deg, 
                    transparent, 
                    transparent 2px, 
                    rgba(205, 127, 50, 0.1) 2px, 
                    rgba(205, 127, 50, 0.1) 4px);
            border-radius: 8px;
            padding: 30px;
            border: 2px solid var(--copper-orange);
            box-shadow:
                0 8px 16px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(192, 192, 192, 0.1);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(205, 127, 50, 0.1), 
                transparent);
            transition: left 0.6s;
        }

        .card:hover::before {
            left: 100%;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow:
                0 12px 24px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(192, 192, 192, 0.2);
            border-color: var(--brass-gold);
        }

        .card h3 {
            color: var(--bronze-accent);
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }

        .card p {
            color: var(--steam-white);
        }

        .card h3 {
            font-family: 'Merriweather', serif;
            font-size: 1.5rem;
            color: var(--corn-gold);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            font-weight: 700;
        }

        .card p {
            color: var(--bio-cream);
            line-height: 1.6;
            font-family: 'Libre Baskerville', serif;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
        }

        .cta-section {
            text-align: center;
            padding: 80px 20px;
        }

        .component-selector {
            margin-top: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            background:
                linear-gradient(135deg, rgba(26, 26, 26, 0.95), rgba(42, 42, 42, 0.9)),
                radial-gradient(circle at center, 
                    rgba(205, 127, 50, 0.1),
                    transparent 70%);
            padding: 40px;
            border-radius: 8px;
            border: 3px solid var(--copper-orange);
            box-shadow:
                0 8px 16px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(192, 192, 192, 0.1);
        }

        .component-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }

        .component-label {
            display: block;
            position: relative;
        }

        .component-label input {
            display: none;
        }

        .component-label span {
            display: block;
            padding: 14px 28px;
            background: linear-gradient(135deg, 
                var(--steel-gray), 
                var(--iron-black));
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid var(--copper-orange);
            color: var(--steam-white);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow:
                0 4px 8px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(192, 192, 192, 0.1);
            font-family: 'Merriweather', serif;
        }

        .component-label input:checked+span {
            background: linear-gradient(135deg, 
                var(--copper-orange), 
                var(--bronze-accent));
            color: var(--steam-white);
            font-weight: 700;
            border-color: var(--brass-gold);
            transform: scale(1.05);
            box-shadow:
                0 6px 12px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.4);
        }

        .component-label span:hover {
            background: linear-gradient(135deg, 
                var(--iron-black), 
                var(--steel-gray));
            transform: scale(1.02);
            border-color: var(--brass-gold);
        }

        .cta-button {
            display: inline-block;
            margin-top: 40px;
            padding: 18px 36px;
            background: linear-gradient(135deg,
                var(--bronze-accent),
                var(--copper-orange));
            color: var(--steam-white);
            font-weight: 700;
            border-radius: 4px;
            text-decoration: none;
            font-size: 1.2rem;
            border: 2px solid var(--brass-gold);
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Merriweather', serif;
            box-shadow:
                0 4px 12px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }

        .cta-button:disabled {
            background: linear-gradient(135deg,
                var(--steel-gray),
                var(--iron-black));
            border-color: var(--rivet-gray);
            color: var(--gear-silver);
            cursor: not-allowed;
            box-shadow: none;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(245, 245, 220, 0.3), transparent);
            transition: left 0.5s;
        }

        .cta-button:hover:not(:disabled)::before {
            left: 100%;
        }

        .cta-button:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow:
                0 8px 25px rgba(74, 124, 89, 0.6),
                inset 0 3px 0 rgba(218, 165, 32, 0.5),
                0 0 30px rgba(124, 179, 66, 0.4);
        }

        .cta-button:disabled {
            background: rgba(47, 79, 79, 0.5);
            color: var(--carbon-gray);
            cursor: not-allowed;
            border-color: var(--carbon-gray);
            box-shadow: none;
        }

        footer {
            text-align: center;
            padding: 40px 25px;
            font-size: 0.9rem;
            color: var(--steam-white);
            border-top: 3px solid var(--copper-orange);
            margin-top: 60px;
            background: linear-gradient(135deg, 
                var(--coal-black),
                var(--iron-black));
            box-shadow:
                0 -4px 12px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(192, 192, 192, 0.1);
            position: relative;
            z-index: 2;
            font-family: 'Libre Baskerville', serif;
        }
    </style>
</head>

<body>
    <nav class="top-navbar">
        <div class="logo"><i class="fas fa-gas-pump"></i> FuelBlend AI</div>
        <ul class="nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#about">How It Works</a></li>
            <li><a href="#get-started">Start Blending</a></li>
        </ul>
    </nav>
    <canvas id="organic-canvas"></canvas>

    <section class="hero-section" id="home">
        <div class="hero-text">
            <h1>Fuel Blending Property Predictor</h1>
            <p>Leverage the power of machine learning to accurately predict fuel properties. Optimize your blends for
                performance, cost, and environmental impact with unprecedented speed.</p>
        </div>
    </section>
    <section class="section" id="about">
        <h2 class="section-title">How It Works</h2>
        <div class="cards">
            <div class="card">
                <h3><i class="fas fa-flask"></i> 1. Select Components</h3>
                <p>Choose two or more base components you wish to blend together from our predefined list of five
                    options.</p>
            </div>
            <div class="card">
                <h3><i class="fas fa-sliders"></i> 2. Define Composition</h3>
                <p>Use our intuitive, auto-balancing sliders to precisely define the volume fraction of each component.
                </p>
            </div>
            <div class="card">
                <h3><i class="fas fa-chart-line"></i> 3. Get Predictions</h3>
                <p>Our ten specialized ML models instantly predict key properties and their accuracy for your final
                    blend.</p>
            </div>
        </div>
    </section>
    <section class="cta-section" id="get-started">
        <h2 class="section-title">Get Started</h2>
        <p style="color: var(--steam-white); font-family: 'Libre Baskerville', serif; font-size: 1.1rem;">Choose 2-5
            components with adjustable composition. All 5 components will be included in the final blend.</p>
        <div class="component-selector">
            <p style="margin-bottom: 20px; color: var(--gear-silver); font-family: 'Libre Baskerville', serif;">Select
                2-5 components with variable composition (others will
                be included at 0%):</p>
            <div class="component-grid">
                <label class="component-label"><input type="checkbox" name="component" value="1"><span>Component
                        1</span></label>
                <label class="component-label"><input type="checkbox" name="component" value="2"><span>Component
                        2</span></label>
                <label class="component-label"><input type="checkbox" name="component" value="3"><span>Component
                        3</span></label>
                <label class="component-label"><input type="checkbox" name="component" value="4"><span>Component
                        4</span></label>
                <label class="component-label"><input type="checkbox" name="component" value="5"><span>Component
                        5</span></label>
            </div>
            <div id="selection-status"
                style="margin-top: 15px; font-size: 0.9rem; color: var(--gear-silver); font-family: 'Libre Baskerville', serif;">
            </div>
            <button id="predictBtn" class="cta-button" disabled>Continue</button>
        </div>
    </section>
    <footer>&copy; 2025 FuelBlend AI Project | All Rights Reserved</footer>
    <script>
        const checkboxes = document.querySelectorAll('input[name="component"]');
        const predictBtn = document.getElementById('predictBtn');
        const statusDiv = document.getElementById('selection-status');

        function updateSelectionStatus() {
            const selectedCount = [...checkboxes].filter(cb => cb.checked).length;
            const selectedComponents = [...checkboxes].filter(cb => cb.checked).map(cb => cb.value);

            if (selectedCount === 0) {
                statusDiv.textContent = 'No components selected';
                statusDiv.style.color = 'var(--gear-silver)';
                predictBtn.disabled = true;
            } else if (selectedCount === 1) {
                statusDiv.textContent = `Selected: Component ${selectedComponents[0]} - Select at least 1 more`;
                statusDiv.style.color = 'var(--copper-orange)';
                predictBtn.disabled = true;
            } else if (selectedCount >= 2 && selectedCount <= 5) {
                const componentList = selectedComponents.join(', ');
                const unselectedCount = 5 - selectedCount;
                statusDiv.textContent = `Selected ${selectedCount} components: ${componentList} (${unselectedCount} fixed at 0%)`;
                statusDiv.style.color = 'var(--victorian-gold)';
                predictBtn.disabled = false;
            }
        }

        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                updateSelectionStatus();
            });
        });

        // Initialize status
        updateSelectionStatus();
        predictBtn.addEventListener('click', () => {
            const selectedComponents = [...checkboxes].filter(cb => cb.checked).map(cb => cb.value);
            localStorage.setItem('selectedComponents', JSON.stringify(selectedComponents));
            window.location.href = "composition.html";
        });

        // Industrial Machinery Animation
        class IndustrialMachinerySystem {
            constructor() {
                this.canvas = document.getElementById('organic-canvas');
                this.ctx = this.canvas.getContext('2d');
                this.gears = [];
                this.particles = [];
                this.time = 0;
                this.init();
            }

            init() {
                this.resize();
                this.createGears();
                this.createParticles();
                this.animate();
                window.addEventListener('resize', () => this.resize());
            }

            resize() {
                this.canvas.width = window.innerWidth;
                this.canvas.height = window.innerHeight;
            }

            createGears() {
                const gearCount = Math.floor(this.canvas.width / 200);
                this.gears = [];

                for (let i = 0; i < gearCount; i++) {
                    this.gears.push({
                        x: Math.random() * this.canvas.width,
                        y: Math.random() * this.canvas.height,
                        radius: Math.random() * 30 + 20,
                        teeth: Math.floor(Math.random() * 8) + 8,
                        rotation: Math.random() * Math.PI * 2,
                        speed: (Math.random() - 0.5) * 0.02,
                        color: this.getIndustrialColor(),
                        connected: Math.random() > 0.5,
                        opacity: Math.random() * 0.3 + 0.1
                    });
                }
            }

            createParticles() {
                const particleCount = Math.floor(this.canvas.width / 20);
                this.particles = [];

                for (let i = 0; i < particleCount; i++) {
                    this.particles.push({
                        x: Math.random() * this.canvas.width,
                        y: Math.random() * this.canvas.height,
                        size: Math.random() * 2 + 1,
                        speedX: (Math.random() - 0.5) * 0.5,
                        speedY: (Math.random() - 0.5) * 0.5,
                        color: this.getSteamColor(),
                        opacity: Math.random() * 0.3 + 0.1,
                        pulse: Math.random() * Math.PI * 2
                    });
                }
            }

            getIndustrialColor() {
                const colors = ['#b87333', '#cd7f32', '#b5a642', '#a8a8a8', '#707070'];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            getSteamColor() {
                return 'rgba(192, 192, 192, ' + (Math.random() * 0.2 + 0.1) + ')';
            }

            drawGear(gear) {
                this.ctx.save();
                this.ctx.translate(gear.x, gear.y);
                this.ctx.rotate(gear.rotation);
                this.ctx.globalAlpha = gear.opacity;

                // Draw gear center
                this.ctx.beginPath();
                this.ctx.arc(0, 0, gear.radius * 0.3, 0, Math.PI * 2);
                this.ctx.fillStyle = gear.color;
                this.ctx.fill();
                this.ctx.strokeStyle = this.adjustColor(gear.color, -20);
                this.ctx.lineWidth = 2;
                this.ctx.stroke();

                // Draw gear teeth
                for (let i = 0; i < gear.teeth; i++) {
                    const angle = (i / gear.teeth) * Math.PI * 2;
                    const innerRadius = gear.radius * 0.7;
                    const outerRadius = gear.radius;

                    this.ctx.beginPath();
                    this.ctx.moveTo(
                        Math.cos(angle) * innerRadius,
                        Math.sin(angle) * innerRadius
                    );
                    this.ctx.lineTo(
                        Math.cos(angle) * outerRadius,
                        Math.sin(angle) * outerRadius
                    );
                    this.ctx.lineWidth = gear.radius * 0.3;
                    this.ctx.strokeStyle = gear.color;
                    this.ctx.stroke();
                }

                this.ctx.restore();
            }

            adjustColor(color, amount) {
                const hex = color.replace('#', '');
                const r = Math.max(0, Math.min(255, parseInt(hex.substr(0, 2), 16) + amount));
                const g = Math.max(0, Math.min(255, parseInt(hex.substr(2, 2), 16) + amount));
                const b = Math.max(0, Math.min(255, parseInt(hex.substr(4, 2), 16) + amount));
                return '#' + r.toString(16).padStart(2, '0') + g.toString(16).padStart(2, '0') + b.toString(16).padStart(2, '0');
            }

            animate() {
                this.ctx.fillStyle = 'rgba(26, 26, 26, 0.1)';
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

                this.time += 0.01;

                // Animate gears
                this.gears.forEach((gear, i) => {
                    gear.rotation += gear.speed * (gear.connected && i % 2 === 0 ? -1 : 1);
                    this.drawGear(gear);
                });

                // Animate steam particles
                this.particles.forEach(particle => {
                    particle.x += particle.speedX;
                    particle.y += particle.speedY;
                    particle.pulse += 0.05;

                    // Wrap around screen
                    if (particle.x < 0) particle.x = this.canvas.width;
                    if (particle.x > this.canvas.width) particle.x = 0;
                    if (particle.y < 0) particle.y = this.canvas.height;
                    if (particle.y > this.canvas.height) particle.y = 0;

                    // Draw steam particle
                    const pulseSize = particle.size + Math.sin(particle.pulse) * 0.5;
                    this.ctx.beginPath();
                    this.ctx.arc(particle.x, particle.y, pulseSize, 0, Math.PI * 2);
                    this.ctx.fillStyle = particle.color;
                    this.ctx.fill();
                });

                requestAnimationFrame(() => this.animate());
            }
        }

        // Initialize industrial machinery effects
        window.addEventListener('load', () => {
            new IndustrialMachinerySystem();
        });
    </script>
</body>

</html>